import React, { useEffect, useState } from 'react';
import { useChanged, useFirstSkipChanged, useEventEffect, useIntervalRef } from '../../../../src';

const Home = () => {
  /********************************************************************************************************************
   * Use
   * ******************************************************************************************************************/

  const [, setUpdateInterval] = useIntervalRef();

  /********************************************************************************************************************
   * State
   * ******************************************************************************************************************/

  const [value1, setValue1] = useState(0);
  const [value2, setValue2] = useState(0);
  const [value3, setValue3] = useState(0);

  /********************************************************************************************************************
   * Changed
   * ******************************************************************************************************************/

  useFirstSkipChanged(() => {
    setValue2(value1 * 2);
  }, [value1]);

  useChanged(() => {
    setValue3(value2 * 2);
  }, [value2]);

  useEventEffect(() => {
    ll({ value1, value2, value3 });
  }, [value1, value2, value3]);

  /********************************************************************************************************************
   * Effect
   * ******************************************************************************************************************/

  useEffect(() => {
    setUpdateInterval(() => {
      setValue1((prev) => prev + 1);
    }, 1000);
  }, [setUpdateInterval]);

  /********************************************************************************************************************
   * Render
   * ******************************************************************************************************************/

  return (
    <div>
      <div>value1 : {value1}</div>
      <div>value2 : {value2}</div>
      <div>value3 : {value3}</div>
    </div>
  );
};

export default Home;
